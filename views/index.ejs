<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/style.css">
    <title>To Do List</title>
</head>
<body>
    <div id="main">
        <header id="header">
            <% if (task == null) { %>
                <h1>Suas tarefas</h1>
                <form action="/create" method="post">
                    <input id="inputt" type="text" name="task" id="task" placeholder="Insira uma tarefa">
                    <button id="botao" type="submit">Adicionar</button>
                </form>
            <% } else { %>
                <h1>Editar tarefa</h1>
                <form action="/updateOne/<%= task._id %>" method="post">
                    <input id="inputt" type="text" name="task" id="task" value="<%= task.task %>">
                    <button id="botao" type="submit">Atualizar</button>
                </form>
            <% } %>
        </header>

        <section id="tasks">
            <ul>
                <% tasksList.forEach((task) => { %>
                    <li id="todo-row">
                        <div>
                            <a href="/check/<%= task._id %>" class="check-<%= task.check %>"><%= task.task %></a><span>Criado em:<%= task.date.toLocaleDateString('pt-br') %></span>
                        </div>
                        <div id="opcoes">
                            <a id="edit-icon" href="/getById/<%= task._id%>/update"><svg stroke="currentColor" fill="currentColor" stroke-width="0" version="1.2" baseProfile="tiny" viewBox="0 0 24 24" class="edit-icon" height="1.5em" width="1.5em" xmlns="http://www.w3.org/2000/svg"><path d="M21.561 5.318l-2.879-2.879c-.293-.293-.677-.439-1.061-.439-.385 0-.768.146-1.061.439l-3.56 3.561h-9c-.552 0-1 .447-1 1v13c0 .553.448 1 1 1h13c.552 0 1-.447 1-1v-9l3.561-3.561c.293-.293.439-.677.439-1.061s-.146-.767-.439-1.06zm-10.061 9.354l-2.172-2.172 6.293-6.293 2.172 2.172-6.293 6.293zm-2.561-1.339l1.756 1.728-1.695-.061-.061-1.667zm7.061 5.667h-11v-11h6l-3.18 3.18c-.293.293-.478.812-.629 1.289-.16.5-.191 1.056-.191 1.47v3.061h3.061c.414 0 1.108-.1 1.571-.29.464-.19.896-.347 1.188-.64l3.18-3.07v6zm2.5-11.328l-2.172-2.172 1.293-1.293 2.171 2.172-1.292 1.293z"></path></svg></a>
                            <a id="delete-icon" href="/deleteOne/<%= task._id %>"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" class="delete-icon" height="1.5em" width="1.5em" xmlns="http://www.w3.org/2000/svg"><g><path fill="none" d="M0 0h24v24H0z"></path><path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm0-9.414l2.828-2.829 1.415 1.415L13.414 12l2.829 2.828-1.415 1.415L12 13.414l-2.828 2.829-1.415-1.415L10.586 12 7.757 9.172l1.415-1.415L12 10.586z"></path></g></svg></a>
                        </div>
                    </li>
                <% }) %>
            </ul>
        </section>
    </div>
    <script src="script.js"></script>
</body>
</html>